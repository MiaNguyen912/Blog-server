<%- include("partials/header") -%>
    <h1>Home</h1>
    <p> <%=content%> </p>

    <% let truncatedContent = function (str, num) { %>
        <% if (str.length > num) { %>
            <% return str.slice(0, num) + "..."; %>
        <% } else { %>
            <% return str; %>
        <% } %>    
    <% } %>

    <% posts.forEach(function(post){ %> <!--parameter inside function is the singular version of array items-->
                                        <!--posts is the array containing all composed posts from the user-->
        <h1> <%= post.title %> </h1> <!--items in posts are objects with form {title: content}-->
        <p> <%= truncatedContent(post.content, 100); %> </p>

        <!-- we can also use the built-in substring function to truncate string  -->
        <!-- <p> <%=post.content.substring(0,100) + "..." %> </p> -->
    <% }); %>

<%- include("partials/footer") -%>
